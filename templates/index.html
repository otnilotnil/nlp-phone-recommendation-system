<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phone Recommendation System</title>
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" 
    rel="stylesheet">

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="container my-5">
    <h1 class="text-center mb-4">Phone Recommendation System</h1>

    <!-- search bars -->
    <form method="POST" class="mb-5">
      <div class="input-group">
        <input 
          type="text" 
          class="form-control" 
          name="query" 
          placeholder="Search for a product!" 
          required>
        <button class="btn btn-primary" type="submit">Search</button>
      </div>
    </form>
    <!-- display recommendations -->
    {% if recommendations %} 
    <div class="row row-cols-2 row-cols-sm-3 row-cols-md-5 g-4 justify-content-center">
      {% for product in recommendations[:10] %}
      <div class="col">
        <div class="card h-100 shadow-sm border-0">
          <img 
            src="{{ product.imgs[0] if product.imgs else 'https://via.placeholder.com/200x200?text=No+Image' }}"
            class="card-img-top img-fluid"
            alt="{{ product.title }}"
            style="object-fit: cover; height: 200px;">

          <div class="card-body text-center">
            <h6 class="card-title fw-semibold">{{ product.title }}</h6>
            <p class="card-text small text-muted mb-1">
              {{ product.brand }} â€¢ {{ product.category }}
            </p>
            <span class="badge bg-light text-dark">
              Similarity: {{ "%.2f" | format(product.similarity) }}
            </span>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
